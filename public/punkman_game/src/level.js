import { COLS, ROWS } from './utils.js';

export const map = [
  "1111111111111111111111111111",
  "1222222222111122222222222221",
  "1211112112111121121112111121",
  "1311112112222221121112111131",
  "1211112112111121121112111121",
  "1222222222229222222222222221",
  "1211112112111111211212111121",
  "1222222112222222211222222221",
  "1111112111119111112111111111",
  "0000012110000000002110000000",
  "1111112111111111112111111111",
  "1222222222222222222222222221",
  "1211112112111121121112111121",
  "1311112112222221121112111131",
  "1211112112111121121112111121",
  "1222222222111122222222222221",
  "1111111111111111111111111111",
  "1222222222222222222222222221",
  "1211111111112111111111111121",
  "1212000000002000000000000121",
  "1211111111112111111111111121",
  "1222222222222222222222222221",
  "1111111111111111111111111111",
  "1222222222222222222222222221",
  "1211112112111121121112111121",
  "1211112112222221121112111121",
  "1211112112111121121112111121",
  "1222222222222222222222222221",
  "1111111111111111111111111111",
  "1222222222222222222222222221",
  "1111111111111111111111111111",
].map(row=>row.split('').map(c=>+c));

export function forEachTile(fn){
  for(let r=0;r<ROWS;r++) for(let c=0;c<COLS;c++) fn(c,r,map[r][c]);
}

export function isWall(c,r){ return map[r]?.[c]===1; }
export function isGate(c,r){ return map[r]?.[c]===9; }
export function eat(c,r){ if(map[r]?.[c]===2){ map[r][c]=0; return 10; } if(map[r]?.[c]===3){ map[r][c]=0; return 50; } return 0; }
export function dotsLeft(){ let n=0; forEachTile((c,r,t)=>{ if(t===2||t===3) n++; }); return n; }